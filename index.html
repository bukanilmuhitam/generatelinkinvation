<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  </head>
  <body>
    <h1 class="mt-4 text-center">Generate invation</h1>
    
    <div class="container">
      
    <div class="form-group">
      <label>Ketik nama tamu</label>
      <input id="nama-tamu" type="text" class="form-control">
    </div>
    
    <div id="hasilcopy" class="mt-4 mb-4">
      
     </div>
    
    <div class="flex mt-2" >
     
      <button id="generate" class="btn btn-primary">Generate</button>
      
      
      <button id="copy" style="display: none;" class="btn btn-danger">Copy</button>
    </div>
    
    </div>
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    
    <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
    
    <script>
    function ucwords(str,force){
  str=force ? str.toLowerCase() : str;  
  return str.replace(/(\b)([a-zA-Z])/g,
           function(firstLetter){
              return   firstLetter.toUpperCase();
           });
}


       $(document).ready(function(){
    
         
         $("#generate").click(function(){
                
         let textTemplate = `
         Bismillahirrahmanirrahim
 <br />
 <br />
Assalamualaikum Warahmatullahi Wabarakatuh.
<br />
 <br />
Maha suci Allah SWT yang telah menciptakan makhluk-Nya berpasang-pasangan.
<br />
 <br />
Tanpa mengurangi rasa hormat, izinkan kami menggundang Bapak/Ibu/Saudara/i, teman, sekaligus sahabat :
<br />
 <br />
 
 Yth. nama

<br />
 <br />
 
agar dapat hadir dan memberikan doa restu pada acara pernikahan kami :
<br />
 <br />
Nicky Yasmidar Salim Sinaga
&
Ashri Prastiko Juned
<br />
 <br />

Berikut ini undangan acara pernikahan kami yang dapat di akses pada link berikut:

<br />
 <br />
  https://bukanilmuhitam.github.io/kokokikinikah/?inviteTo=linktamu
<br />
 <br />

Merupakan suatu kebahagiaan bagi kami apabila Bapak/Ibu/Saudara/i, teman, dan sahabat berkenan hadir dan memberikan doa restu.
<br />
 <br />
 


Wassalamu'alaikum Warahmatullahi Wabarakatuh.

<br />
 <br />

Nicky & Koko
         `;
         
           let namaTamu = $("#nama-tamu").val().trim();
           
           let linktamu = namaTamu.replace(/ /g, "+");
           
           
           
           $("#copy").hide();
           $("#hasilcopy").html("");
           
           if(namaTamu !== ""){
            
          let changeName = textTemplate.replace("nama" , ucwords(namaTamu));
             
             
             let changelink = changeName.replace("linktamu", linktamu.toLowerCase());
            
           $("#hasilcopy").html(changelink);
             
             $("#generate").html("Berhasil generate");
             
             setTimeout(function() {
               $("#generate").html("Generate");
               $("#copy").show();
             }, 1000);
             
           }else{
             alert("Nama tamu tidak boleh kosong");
           }
          
          
          
           
           
           
         });
         
         $("#copy").click(function(){
           var range = document.createRange();
              range.selectNode(document.getElementById("hasilcopy")); //changed here
              window.getSelection().removeAllRanges(); 
               window.getSelection().addRange(range); 
             document.execCommand("copy");
             window.getSelection().removeAllRanges();
           alert("Berhasil copy");
         });
         
       });
    
    
    </script>
    
  </body>
</html>
